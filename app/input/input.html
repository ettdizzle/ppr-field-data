<form ng-submit="saveObservation()" class="form-horizontal input-form striped-inputs">
  <fieldset> 
  <legend class="first-legend">Plant Selector</legend>
  <div class="form-group">
    <label for="site" class="col-sm-4 control-label">Site</label>
    <div class="col-sm-8 input-div">
      <select class="form-control" id="site" ng-model="plantInfo.site" ng-change="updatePlantInfo()">
      <option value="{{plantInfo.site}}">{{plantInfo.site}}</option>
      </select>
    </div>
  </div>
  <div class="form-group">
    <label for="expt" class="col-sm-4 control-label">Experiment</label>
    <div class="col-sm-8 input-div">
      <select class="form-control" id="expt" ng-model="plantInfo.expt" ng-change="updatePlantInfo()">
        <option ng-repeat="expt in expts" value="{{expt}}">{{expt}}</option>
      </select>
    </div>
  </div>
  <div class="form-group">
    <label for="plantId" class="col-sm-4 control-label">Plant ID</label>
    <div class="col-sm-8 input-div">
      <div class="input-group">
        <input ng-model="plantInfo.id" ng-change="updatePlantInfo()" type="text" class="form-control" id="plantId" placeholder="Plant ID">
        <span class="input-group-btn">
          <button class="btn btn-default" type="button" ng-click="incPlantId()">
            <span class="glyphicon glyphicon-chevron-up" aria-hidden="true"></span>
          </button>
          <button class="btn btn-default" type="button" ng-click="decPlantId()">
            <span class="glyphicon glyphicon-chevron-down" aria-hidden="true"></span>
          </button>
        </span>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="species" class="col-sm-4 control-label">Species</label>
    <div class="col-sm-8 input-div">
      <div id="species" class="control-label form-data">{{plantInfo.species}}</div>
    </div>
  </div>
  </fieldset>

  <fieldset> 
  <legend>Observations</legend>
  <div class="form-group">
    <label for="height" class="col-sm-4 control-label">Height</label>
    <div class="col-sm-8 input-div">
      <div class="input-group">
        <input ng-model="observation.height" type="number" step="0.1" class="form-control" id="height" placeholder="Height">
        <span class="input-group-addon">in.</span>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="caliper" class="col-sm-4 control-label">Caliper</label>
    <div class="col-sm-8 input-div">
      <div class="input-group">
        <input ng-model="observation.caliper" type="number" step="0.1" class="form-control" id="caliper" placeholder="Caliper">
        <span class="input-group-addon">in.</span>
      </div>
    </div>
  </div>
  <div class="sosp-fields" ng-if="plantInfo.expt === 'SOSP'">
    <div class="form-group">
      <label for="spreadX" class="col-sm-4 control-label">Spread, X-direction</label>
      <div class="col-sm-8 input-div">
        <div class="input-group">
          <input ng-model="observation.spreadX" ng-change="updateSpread()" type="number" step="0.1" class="form-control" id="spreadX" placeholder="Spread [X]">
          <span class="input-group-addon">in.</span>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="spreadY" class="col-sm-4 control-label">Spread, Y-direction</label>
      <div class="col-sm-8 input-div">
        <div class="input-group">
          <input ng-model="observation.spreadY" ng-change="updateSpread()" type="number" step="0.1" class="form-control" id="spreadY" placeholder="Spread [Y]">
          <span class="input-group-addon">in.</span>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="spreadAvg" class="col-sm-4 control-label">Spread, Average</label>
      <div class="col-sm-8 input-div">
        <div class="input-group">
          <input ng-model="observation.spreadAvg" type="number" step="0.1" class="form-control" id="spreadAvg" placeholder="Spread [Avg]">
          <span class="input-group-addon">in.</span>
        </div>
      </div>
    </div>
    <div class="form-group">
      <label for="phenology" class="col-sm-4 control-label">Phenology</label>
      <div class="col-sm-8 input-div">
        <select class="form-control" id="phenology" ng-model="observation.phenology">
          <option ng-repeat="p in phenologies" value="{{p}}">{{p}}</option>
        </select>
      </div>
    </div>
  </div>
  <div class="form-group">
    <label for="dead" class="col-sm-4 control-label">Dead?</label>
    <div class="col-sm-8 input-div">
      <input ng-model="observation.dead" type="checkbox" class="form-control" id="dead">
    </div>
  </div>
  <div class="form-group">
    <label for="notes" class="col-sm-4 control-label">Notes</label>
    <div class="col-sm-8 input-div">
      <textarea ng-model="observation.notes" class="form-control" id="notes">
      </textarea>
    </div>
  </div>
  <div class="form-group">
    <label for="date" class="col-sm-4 control-label">Date</label>
    <div class="col-sm-8 input-div">
      <input ng-model="observation.date" type="text" class="form-control" id="date">
    </div>
  </div>
  <div class="form-group">
    <label for="observer" class="col-sm-4 control-label">Observer</label>
    <div class="col-sm-8 input-div">
      <input ng-model="observation.observer" type="text" class="form-control" id="observer">
    </div>
  </div>
  </fieldset>
  <div class="form-group">
    <div class="col-sm-offset-4 col-sm-8">
      <button type="submit" class="btn btn-primary">Save observation</button>
    </div>
  </div>
</form>
<a ng-click="exportCSV()">Download All Data</a>
